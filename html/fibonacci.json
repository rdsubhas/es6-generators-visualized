{
  "panes": [{
    "name": "caller function",
    "lines": [
      "var fib = fibonacci();",
      "for (var i=0; i<5; i++) { ${i}",
      "  var next = fib.next(); ${next}",
      "  console.log(next.value); ${next.value}",
      "}"
    ]
  }, {
    "name": "generator function",
    "lines": [
      "function* fibonacci() {",
      "  var n1 = 0;",
      "  var n2 = 1;",
      "  while (true) {",
      "    var temp = n1;",
      "    n1 = n2; ${n1}",
      "    n2 = n1 + temp; ${n2}",
      "    yield n1;",
      "  }",
      "}"
    ]
  }],
  "vars": {
    "i": null,
    "n1": null,
    "n2": null,
    "next": {}
  },
  "steps": [
    [ 0, 0, null, "=.+" ],
    [ 1, 0, null, ".+" ],

    [ 0, 0, null, ".+=" ],
    [ 0, 1, { "i":0 } ],
    [ 0, 2, null, "=.+"],

    [ 1, 0 ],
    [ 1, 1, { "n1":0 } ],
    [ 1, 2, { "n2":1 } ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":1 } ],
    [ 1, 6, { "n2":1 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 1, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":1 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":1 } ],
    [ 1, 6, { "n2":2 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 1, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":2 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":2 } ],
    [ 1, 6, { "n2":3 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 2, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":3 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":3 } ],
    [ 1, 6, { "n2":5 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 3, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":4 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":5 } ],
    [ 1, 6, { "n2":8 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 5, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":5 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":8 } ],
    [ 1, 6, { "n2":13 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 8, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":6 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":13 } ],
    [ 1, 6, { "n2":21 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 13, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":7 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":21 } ],
    [ 1, 6, { "n2":34 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 21, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":8 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":34 } ],
    [ 1, 6, { "n2":55 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 34, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":9 } ],
    [ 0, 2, null, "=.+" ],

    [ 1, 8 ],
    [ 1, 3 ],
    [ 1, 4 ],
    [ 1, 5, { "n1":55 } ],
    [ 1, 6, { "n2":89 } ],
    [ 1, 7 ],

    [ 0, 2, { "next": { "value": 55, "done": false } }, ".+=" ],
    [ 0, 3 ],
    [ 0, 4 ],
    [ 0, 1, { "i":10 } ],
    [ 0, 4 ]

  ]
}
